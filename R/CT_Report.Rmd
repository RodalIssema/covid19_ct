---
title: "COVID-19 Projections for Connecticut"
author: 
  - "Forrest W. Crawford, Olga Morozova, Zehang Richard Li, and Soheil Eshghi"
  - "Yale School of Public Health"
  - "Prepared for the Governor's Reopen Connecticut Advisory Group"
date: "`r format(Sys.time(), '%I:%M %p %B %d %Y')`"
header-includes:
  - \usepackage{helvet}
  - \usepackage[T1]{fontenc}
  - \renewcommand\familydefault{\sfdefault} 
output:
  pdf_document:
    toc: true
    fig_crop: false
    fig_width: 7.0
    fig_height: 3.0
fontsize: 11pt
geometry: margin=0.75in
---

```{r, echo=FALSE, include=FALSE}
source("run_ct_model.R")
```


# Introduction 

This report presents projections of COVID-19 hospitalizations and deaths in Connecticut as a whole, and by county. Projections are shown as lines with uncertainty intervals in lighter colors, and actual data (if available) overlaid. Horizontal axes extend to the time horizon for this analysis, `r format(daymax, "%b %d, %Y")`.  The report was prepared for the Governor's Reopen Connecticut Advisory group. 

An intervention scenario is described below. Projections under this scenario take into account historical and hypothetical future state-level interventions, including closing of schools on `r format(state_schools_close,"%b %d, %Y")` and the state-level stay-at-home order issued on `r format(state_lockdown_start,"%b %d, %Y")` which took effect on `r format(state_lockdown_order, "%b %d, %Y")`.  School closure is assumed to reduce transmission by `r params_init$school_closure_effect * 100`%, and the state-level stay-at-home order reduces transmission by `r params_init$lockdown_effect * 100`%.  

```{r echo=FALSE, fig.height = 5}
plot_interventions()
```
The projections presented below evaluate the effect of a hypothetical lifting of the stay-at-home order on **`r format(lockdown_end_date, "%b %d, %Y")`** and re-opening of schools on `r format(state_schools_reopen_date, "%b %d, %Y")`.  When the stay-at-home order is lifted, the projections assume an ongoing `r params_init$distancing_effect * 100`% reduction in transmission. 




# Projections 

We first show the projected cumulative deaths and hospitalizations for Connecticut counties over time. 



```{r echo=FALSE, fig.width=8,  fig.height=3.5}
mapplot_ct_region(which.plot="rD", label="Cumulative\nDeaths", palette="Reds", ncol=4)
mapplot_ct_region(which.plot="cum_modH",  label="Cumulative\nHospitalizations", palette="Blues", ncol=4)  
```
Projections of deaths and hospitalization for the state and each county are shown below, along with 90% prediction uncertainly intervals.  Hospitalization projections show historical and projected hospital capacity.  




\clearpage

## Connecticut State 

```{r echo=FALSE}
connecticut_summary_deaths = plot_ct_region("Connecticut", which.plot="rD")
```

`r connecticut_summary_deaths`


```{r echo=FALSE}
connecticut_summary_hospitalization = plot_ct_region("Connecticut", which.plot="rH")
```

`r connecticut_summary_hospitalization`




## Fairfield 

```{r echo=FALSE}
fairfield_summary_deaths = plot_ct_region("Fairfield", which.plot="rD")
```

`r fairfield_summary_deaths`

```{r echo=FALSE}
fairfield_summary_hospitalization = plot_ct_region("Fairfield", which.plot="rH")
```

`r fairfield_summary_hospitalization`





## New London

```{r echo=FALSE}
new_london_summary_deaths = plot_ct_region("New London", which.plot="rD")
```
`r new_london_summary_deaths`

```{r echo=FALSE}
new_london_summary_hospitalization = plot_ct_region("New London", which.plot="rH")
```

`r new_london_summary_hospitalization`






## Litchfield
```{r echo=FALSE}
litchfield_summary_deaths = plot_ct_region("Litchfield", which.plot="rD")
```
`r litchfield_summary_deaths`

```{r echo=FALSE}
litchfield_summary_hospitalization = plot_ct_region("Litchfield", which.plot="rH")
```

`r litchfield_summary_hospitalization`




## Windham
```{r echo=FALSE}
windham_summary_deaths = plot_ct_region("Windham", which.plot="rD")
```
`r windham_summary_deaths`

```{r echo=FALSE}
windham_summary_hospitalization = plot_ct_region("Windham", which.plot="rH")
```

`r windham_summary_hospitalization`






## Tolland
```{r echo=FALSE}
tolland_summary_deaths = plot_ct_region("Tolland", which.plot="rD")
```
`r tolland_summary_deaths`

```{r echo=FALSE}
tolland_summary_hospitalization = plot_ct_region("Tolland", which.plot="rH")
```





## Hartford
```{r echo=FALSE}
hartford_summary_deaths = plot_ct_region("Hartford", which.plot="rD")
```
`r hartford_summary_deaths`

```{r echo=FALSE}
hartford_summary_hospitalization = plot_ct_region("Hartford", which.plot="rH")
```

`r hartford_summary_hospitalization`



## Middlesex
```{r echo=FALSE}
middlesex_summary_deaths = plot_ct_region("Middlesex", which.plot="rD")
```
`r middlesex_summary_deaths`

```{r echo=FALSE}
middlesex_summary_hospitalization = plot_ct_region("Middlesex", which.plot="rH")
```

`r middlesex_summary_hospitalization`




## New Haven

```{r echo=FALSE}
new_haven_summary_deaths = plot_ct_region("New Haven", which.plot="rD")
```
`r new_haven_summary_deaths`

```{r echo=FALSE}
new_haven_summary_hospitalizations = plot_ct_region("New Haven", which.plot="rH")
```

`r new_haven_summary_hospitalizations`


# Version

Code version reference: `r system("git rev-parse HEAD", intern=TRUE)`






